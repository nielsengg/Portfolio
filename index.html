<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">  

        <!-- CSS link -->
        <link rel="stylesheet" href="style.css">

        <!-- Font link -->
        <link rel="preconnect" href="https://fonts.googleapis.com">
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link href="https://fonts.googleapis.com/css2?family=JetBrains+Mono:ital,wght@0,100..800;1,100..800&family=Teko:wght@300..700&display=swap" rel="stylesheet">

        <title>nielsengg</title>
    </head>

    <body>
        <div id="wholePage">
            <div id="topPage">
                <nav class="hContainer" id="navBar">
                    <div class="hElement">
                        <button onclick="setScrollPercentage(0)" id="topTitle">Nielsen</button>
                    </div>
                    <div id="topLink" class="hElement">
                        <button onclick="setScrollPercentage(24.5)" id="linkProjects" class="link">
                            About
                        </button>
                        <button onclick="setScrollPercentage(48.5)" id="linkSkills" class="link">
                            Skills
                        </button>
                        <button onclick="setScrollPercentage(73.5)" id="linkAbout" class="link">
                            Projects
                        </button>
                        <button onclick="setScrollPercentage(100)" id="linkContact" class="link">
                            Contact
                        </button>
                    </div>
                </nav>
                <hr>
            </div>  

            <div id="pageContainer" class="vContainer">
                
                <div id="homePage" class="webPage">
                    <p id="scrollIndication">▼</p>
                </div>

                <div id="aboutPage" class="webPage">
                    <div id="aboutMessage" class="hiddenAnimation">About</div>
                    <div id="aboutBigBox" class="hiddenAnimation">
                        <div id="aboutBox">
                            <div id="leftAbout">
                            </div>
                            <div id="rightAbout">
                                <div id="aboutText">My name is</div>
                                    <span id="aboutName">Gustavo Nielsen,</span>
                                <div id="aboutText">and I've always been passionate about turning ideas into reality through development. Since 2020,
                                    I've been actively creating games, school tools, personal tools, and websites, constantly exploring new ways to solve problems and bring creativity to life.
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <div id="skillsPage" class="webPage">
                    <div id="skillsMessage" class="hiddenAnimation">Skills</div>

                    <div id="skillBigBox" class="hiddenAnimation">
                        <div id="skillBox">
                            <div class="skillContent">
                                <img class="skillIcon" src="Images/img_icon_html.png">
                                <p class="skillName">HTML</p>
                            </div>
                        </div>

                        <div id="skillBox">
                            <div class="skillContent">
                                <img class="skillIcon" src="Images/img_icon_css.png">
                                <p class="skillName">CSS</p>
                            </div>
                        </div>

                        <div id="skillBox">
                            <div class="skillContent">
                                <img class="skillIcon" src="Images/img_icon_js.png">
                                <p class="skillName">JavaScript</p>
                            </div>
                        </div>

                        <div id="skillBox">
                            <div class="skillContent">
                                <img class="skillIcon" src="Images/img_icon_py.png">
                                <p class="skillName">Python</p>
                            </div>
                        </div>

                        <div id="skillBox">
                            <div class="skillContent">
                                <img class="skillIcon" src="Images/img_icon_gml.png">
                                <p class="skillName">GML</p>
                            </div>
                        </div>

                        <div id="skillBox">
                            <div class="skillContent">
                                <img class="skillIcon" src="Images/img_icon_godot.png">
                                <p class="skillName">GDScript</p>
                            </div>
                        </div>
                    </div>
                </div>

                <div id="projectPage" class="webPage"> 
                    <div id="projectMessage" class="hiddenAnimation">Projects</div>
                    <div class="slideBox hiddenAnimation">
                        <div class="slideItem">
                            <div class="wholeSlideProject">
                                <div class="topSlideProject">
                                    <h1 class="projectSlideTitle">kCalculator</h1>
                                    <p class="projectSlideDescription">kCalculator is a personal tool to help the users with their health.
                                        On the website, you can find out your daily nutrient goal and monitor the amounts of those you have entered.</p>
                                </div>

                                <div class="bottomSlideProject">
                                    <div class="midiaSlideProject">
                                        <div class="midiaBoxProject">

                                        </div>
                                    </div>

                                    <div class="skillsSlideProject">
                                        <div id="skillBoxOnProject">
                                            <div class="skillContent">
                                                <img class="skillIcon" src="Images/img_icon_html.png">
                                                <p class="skillName">HTML</p>
                                            </div>
                                        </div>
                
                                        <div id="skillBoxOnProject">
                                            <div class="skillContent">
                                                <img class="skillIcon" src="Images/img_icon_css.png">
                                                <p class="skillName">CSS</p>
                                            </div>
                                        </div>
                
                                        <div id="skillBoxOnProject">
                                            <div class="skillContent">
                                                <img class="skillIcon" src="Images/img_icon_js.png">
                                                <p class="skillName">Js</p>
                                            </div>
                                        </div>
                
                                        <div id="skillBoxOnProject">
                                            <div class="skillContent">
                                                <img class="skillIcon" src="Images/img_icon_py.png">
                                                <p class="skillName">Python</p>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <div class="slideItem">
                            <div class="wholeSlideProject">
                                <div class="topSlideProject">
                                    <h1 class="projectSlideTitle">V.O.I.D.</h1>
                                    <p class="projectSlideDescription">V.O.I.D. is a game blending fast-paced action with progression and upgrade mechanics.
                                        You control a spaceship in an infinite space, facing various enemies with unique behaviors.</p>
                                </div> 

                                <div class="bottomSlideProject">
                                    <div class="midiaSlideProject">
                                        <div class="midiaBoxProject">
                                            <img src="Images/img_project_banner_void.png" id="midiaVOID"></img>
                                        </div>
                                    </div>

                                    <div class="skillsSlideProject">
                                        <div id="skillBoxOnProject">
                                            <div class="skillContent">
                                                <img class="skillIcon" src="Images/img_icon_gml.png">
                                                <p class="skillName">GML</p>
                                            </div>
                                        </div>

                                        <button onclick="goVOID()" id="buttomBoxOnProject" >
                                            <div class="skillContent">
                                                <p class="skillName" id="playMessage">Play Now</p>
                                            </div>
                                        </button>
                                    </div>
                                </div>
                            </div>
                        </div>
                        
                        <div class="slideItem">
                            <div class="wholeSlideProject">
                                <div class="topSlideProject">
                                    <h1 class="projectSlideTitle">Project 3</h1>
                                    <p class="projectSlideDescription">Lorem ipsum dolor sit, amet consectetur adipisicing elit. Voluptatem, minus molestiae voluptates omnis perferendis, quaerat ad minima libero accusantium asperiores similique, inventore alias illum doloribus iste neque dolore incidunt corporis.</p>
                                </div>

                                <div class="bottomSlideProject">
                                    <div class="midiaSlideProject">
                                        <div class="midiaBoxProject">
                                        </div>
                                    </div>

                                    <div class="skillsSlideProject">
                                    </div>
                                </div>
                            </div>
                        </div>

                        <button id="nextButton">></button>
                        <button id="prevButton"><</button>
                    </div>
                </div>

                <div id="contactPage" class="webPage">
                    <div id="contactBigBox">
                        <div id="contactMessage">CONTACT ME</div>

                        <button id="emailBox">
                            <div class="contactContent">
                                <ion-icon class="contactIcon" name="mail-outline"></ion-icon>
                                <p class="contactText" id="emailMessage">
                                    <a href="mailto:gustavogn427@gmail.com">Send an email</a>
                                </p>
                            </div>
                        </button>
                        <div class="hContainer">
                            <button class="contactBox" onclick="goLinkedin()">
                                <div class="contactContent">
                                    <ion-icon class="contactIcon" name="logo-linkedin"></ion-icon>
                                </div>
                            </button>

                            <button class="contactBox" onclick="goGithub()">
                                <div class="contactContent">
                                    <ion-icon class="contactIcon" name="logo-github"></ion-icon>
                                </div>
                            </button>

                            <button class="contactBox" onclick="goDiscord()">
                                <div class="contactContent">
                                    <ion-icon class="contactIcon" name="logo-discord"></ion-icon>
                                </div>
                            </button>

                            <button class="contactBox" id="letterboxdBox" onclick="goLetterboxd()">
                                <div class="contactContent">
                                    <img class="contactIcon" src="Images/img_icon_letterboxd.svg">
                                </div>
                            </button>
                            
                        </div>
                    </div>
                </div>
            </div>
        </div>
        
        <script type="module" src="https://unpkg.com/ionicons@7.1.0/dist/ionicons/ionicons.esm.js"></script>
        <script nomodule src="https://unpkg.com/ionicons@7.1.0/dist/ionicons/ionicons.js"></script>
        <script>
            // Animation
            const elementsToAnimate = document.querySelectorAll('.hiddenAnimation');

            const observer = new IntersectionObserver((entries, observer) => {
            entries.forEach(entry => {
                if (entry.isIntersecting) {
                entry.target.classList.add('visibleAnimation'); 
                observer.unobserve(entry.target); 
                }
            });
            }, { threshold: 0.1 });

            elementsToAnimate.forEach(element => observer.observe(element));

            // Contact Page Effect
            const totalHeightToContact = document.getElementById('wholePage').scrollHeight - window.innerHeight;
            let returnigToTop = false; // Variável para verificar se já foi rolado até a seção de contato
            let hasScrolledToContact = false; // Variável para verificar se já foi rolado até a seção de contato

            function gotoContactPage() {
                window.scrollTo({
                    top: totalHeightToContact,
                    behavior: 'smooth'
                }); 
            }

            window.addEventListener("scroll", () => {
                const scrollLocation = window.scrollY;
                const scrollPercent = (scrollLocation / totalHeightToContact) * 100;

                if (scrollPercent >= 85 && !hasScrolledToContact) {
                    hasScrolledToContact = true;
                    gotoContactPage();
                }

                if (scrollLocation < totalHeightToContact && hasScrolledToContact) {
                    returnigToTop = true; 
                }

                if (returnigToTop && scrollPercent < 80){
                    hasScrolledToContact = false;
                }
            });

            // Project Page
            let items = document.querySelectorAll('.slideBox .slideItem');
            let nextButton = document.getElementById('nextButton');
            let prevButton = document.getElementById('prevButton');

            let active = 0;

            function loadShow(){
                let stt = 0;

                items[active].style.transform = `none`;
                items[active].style.zIndex = 1;
                items[active].style.filter = 'none';
                items[active].style.opacity = 1;

                for(var i = active + 1; i < items.length; i++){
                    stt++;
                    items[i].style.transform = `translateX(${120 * stt}px) scale(${1 - 0.3*stt}) perspective(50px) rotateY(-1deg)`;
                    items[i].style.zIndex = -stt;
                    items[i].style.filter = 'blur(3px)';
                    items[i].style.opacity = stt > 2 ? 0 : 0.6;
                }
                stt = 0;
                for(var i = active - 1; i >= 0; i--){
                    stt++;
                    items[i].style.transform = `translateX(${-120 * stt}px) scale(${1 - 0.3*stt}) perspective(50px) rotateY(1deg)`;
                    items[i].style.zIndex = -stt;
                    items[i].style.filter = 'blur(3px)';
                    items[i].style.opacity = stt > 2 ? 0 : 0.6;
                }
            }
 
            nextButton.onclick = function(){
                active = active + 1 < items.length ? active + 1 : active;
                loadShow();
                setScrollPercentage(73.5);
            }

            prevButton.onclick = function(){
                active = active - 1 >= 0 ? active - 1 : active;
                loadShow();
                setScrollPercentage(73.5);
            }
            

            function goVOID(){
                window.open('https://gamejolt.com/games/void/963733', '_blank');
            }

            function goLinkedin(){
                window.open('https://www.linkedin.com/in/nielsengg/', '_blank');
            }

            function goGithub(){
                window.open('https://github.com/nielsengg', '_blank');
            }

            function goDiscord(){
                window.open('https://discordapp.com/users/572519718792200212', '_blank');
            }

            function goLetterboxd(){
                window.open('https://letterboxd.com/nielsengg/', '_blank');
            }

            
            // Home Page
            setTimeout(helloMessage, 700);

            function helloMessage(){
                let homePage = document.getElementById('homePage');
                homePage.innerHTML += "<p id='helloMessage'>Hello, I'm Nielsen</p>";
            }

            // Navigation
            function linkUnderline(){
                let totalHeight = document.documentElement.scrollHeight - window.innerHeight;

                let linkHome = document.getElementById('topTitle');
                let linkProjects = document.getElementById('linkProjects');
                let linkSkills = document.getElementById('linkSkills');
                let linkAbout = document.getElementById('linkAbout');
                let linkContact = document.getElementById('linkContact');

                let scrollPosition = window.scrollY;

                let homeMax = totalHeight * (15/100);
                let projectsMax = totalHeight * (40/100);
                let skillsMax = totalHeight * (65/100);
                let contactMax = totalHeight * (90/100);

                if (scrollPosition <= homeMax){
                    linkHome.style.textDecoration = 'underline';
                }else{
                    linkHome.style.textDecoration = 'none';
                }

                if (scrollPosition <= projectsMax && scrollPosition >= homeMax){
                    linkProjects.style.textDecoration = 'underline';
                }else{
                    linkProjects.style.textDecoration = 'none';
                }

                if (scrollPosition <= skillsMax && scrollPosition >= projectsMax){
                    linkSkills.style.textDecoration = 'underline';
                }else{
                    linkSkills.style.textDecoration = 'none';
                }

                if (scrollPosition <= contactMax && scrollPosition >= skillsMax){
                    linkAbout.style.textDecoration = 'underline';
                }else{
                    linkAbout.style.textDecoration = 'none';
                }

                if (scrollPosition >= contactMax){
                    linkContact.style.textDecoration = 'underline';
                }else{
                    linkContact.style.textDecoration = 'none';
                }
            }
 
            function setScrollPercentage(percentage) {
                const totalHeight = document.getElementById('wholePage').scrollHeight - window.innerHeight;
                const scrollPosition = (percentage / 100) * totalHeight;
                window.scrollTo({
                    top: scrollPosition,
                    behavior: 'smooth'
            }); 

            setTimeout(linkUnderline, 500);
            }

            // Call functions
            linkUnderline();
            loadShow();

            window.addEventListener('scroll', linkUnderline);

        </script>
    </body>
</html>