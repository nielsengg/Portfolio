<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">  

        <!-- CSS link -->
        <link rel="stylesheet" href="style.css">

        <!-- Font link -->
        <link rel="preconnect" href="https://fonts.googleapis.com">
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link href="https://fonts.googleapis.com/css2?family=JetBrains+Mono:ital,wght@0,100..800;1,100..800&family=Teko:wght@300..700&display=swap" rel="stylesheet">

        <title>nielsengg</title>
    </head>

    <body>
        <div id="wholePage">
            <div id="topPage">
                <nav class="hContainer" id="navBar">
                    <div class="hElement">
                        <button onclick="setScrollPercentage(0)" id="topTitle">Nielsen</button>
                    </div>
                    <div id="topLinks" class="hElement">
                        <button onclick="setScrollPercentage(22)" id="linkProjects" class="link">
                            Projects
                        </button>
                        <button onclick="setScrollPercentage(47)" id="linkSkills" class="link">
                            Skills
                        </button>
                        <button onclick="setScrollPercentage(72)" id="linkAbout" class="link">
                            About
                        </button>
                        <button onclick="setScrollPercentage(98)" id="linkContact" class="link">
                            Contact
                        </button>
                    </div>
                </nav>
                <hr>
            </div>  

            <div id="pageContainer" class="vContainer">
                
                <div id="homePage" class="webPage">
                    <p id="scrollIndication">â–¼</p>
                </div>

                <div id="projectPage" class="webPage"> 
                    <div class="slider">
                        <div class="item">
                            <h1>Slide 1</h1>
                            Lorem ipsum dolor sit amet consectetur adipisicing elit. Eaque possimus pariatur cumque molestias soluta beatae, delectus animi a ducimus dolores quo, hic praesentium laudantium consequuntur? Dolorum pariatur quasi ipsam aliquam!
                        </div>

                        <div class="item">
                            <h1>Slide 2</h1>
                            Lorem ipsum dolor sit amet consectetur adipisicing elit. Eaque possimus pariatur cumque molestias soluta beatae, delectus animi a ducimus dolores quo, hic praesentium laudantium consequuntur? Dolorum pariatur quasi ipsam aliquam!
                        </div>

                        <div class="item">
                            <h1>Slide 3</h1>
                            Lorem ipsum dolor sit amet consectetur adipisicing elit. Eaque possimus pariatur cumque molestias soluta beatae, delectus animi a ducimus dolores quo, hic praesentium laudantium consequuntur? Dolorum pariatur quasi ipsam aliquam!
                        </div>

                        <div class="item">
                            <h1>Slide 4</h1>
                            Lorem ipsum dolor sit amet consectetur adipisicing elit. Eaque possimus pariatur cumque molestias soluta beatae, delectus animi a ducimus dolores quo, hic praesentium laudantium consequuntur? Dolorum pariatur quasi ipsam aliquam!
                        </div>
                        

                        <button id="next">></button>
                        <button id="prev"><</button>
                    </div>
                </div>

                <div id="skillsPage" class="webPage">
                </div>

                <div id="aboutPage" class="webPage">
                </div>

                <div id="contactPage" class="webPage">
                </div>
                
            </div>
        </div>
        
        <script>
            let items = document.querySelectorAll('.slider .item');
            let next = document.getElementById('next');
            let prev = document.getElementById('prev');

            let active = 0;

            function loadShow(){
                let stt = 0;
                for(var i = active + 1; i < items.length; i++){
                    stt++;
                    items[i].style.transform = `translateX(${120*stt}px) scale(${1 - 0.2*stt}) perspective(16px) rotateY(-1deg)`;
                    items[i].style.zIndex = -stt;
                    items[i].style.filter = 'blur(3px)';
                    items[i].style.opacity = stt > 2 ? 0 : 0.6;
                }
                stt = 0;
                for(var i = active - 1; i >= 0; i--){
                }
            }

            setTimeout(helloMessage, 700);

            function helloMessage(){
                let homePage = document.getElementById('homePage');
                homePage.innerHTML += "<p id='helloMessage'>Hello, I'm Nielsen</p>";
            }

            function linkUnderline(){
                let totalHeight = document.documentElement.scrollHeight - window.innerHeight;

                let linkHome = document.getElementById('topTitle');
                let linkProjects = document.getElementById('linkProjects');
                let linkSkills = document.getElementById('linkSkills');
                let linkAbout = document.getElementById('linkAbout');
                let linkContact = document.getElementById('linkContact');

                let scrollPosition = window.scrollY;

                let homeMax = totalHeight * (15/100);
                let projectsMax = totalHeight * (40/100);
                let skillsMax = totalHeight * (65/100);
                let contactMax = totalHeight * (90/100);

                if (scrollPosition <= homeMax){
                    linkHome.style.textDecoration = 'underline';
                }else{
                    linkHome.style.textDecoration = 'none';
                }

                if (scrollPosition <= projectsMax && scrollPosition >= homeMax){
                    linkProjects.style.textDecoration = 'underline';
                }else{
                    linkProjects.style.textDecoration = 'none';
                }

                if (scrollPosition <= skillsMax && scrollPosition >= projectsMax){
                    linkSkills.style.textDecoration = 'underline';
                }else{
                    linkSkills.style.textDecoration = 'none';
                }

                if (scrollPosition <= contactMax && scrollPosition >= skillsMax){
                    linkAbout.style.textDecoration = 'underline';
                }else{
                    linkAbout.style.textDecoration = 'none';
                }

                if (scrollPosition >= contactMax){
                    linkContact.style.textDecoration = 'underline';
                }else{
                    linkContact.style.textDecoration = 'none';
                }
            }
 
            function setScrollPercentage(percentage) {
                const totalHeight = document.getElementById('wholePage').scrollHeight - window.innerHeight;
                const scrollPosition = (percentage / 100) * totalHeight;
                window.scrollTo({
                    top: scrollPosition,
                    behavior: 'smooth'
            }); 

            setTimeout(linkUnderline, 500);
            }

            linkUnderline();
            loadShow();

            window.addEventListener('scroll', linkUnderline);

        </script>
    </body>
</html>