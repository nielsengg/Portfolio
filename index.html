<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">  

        <!-- CSS link -->
        <link rel="stylesheet" href="style.css">

        <!-- Font link -->
        <link rel="preconnect" href="https://fonts.googleapis.com">
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link href="https://fonts.googleapis.com/css2?family=JetBrains+Mono:ital,wght@0,100..800;1,100..800&family=Teko:wght@300..700&display=swap" rel="stylesheet">

        <title>nielsengg</title>
    </head>

    <body>
        <div id="wholePage">
            <div id="topPage">
                <nav class="hContainer" id="navBar">
                    <div class="hElement">
                        <button onclick="setScrollPercentage(0)" id="topTitle">Nielsen</button>
                    </div>
                    <div id="topLink" class="hElement">
                        <button onclick="setScrollPercentage(23.5)" id="linkProjects" class="link">
                            Skills
                        </button>
                        <button onclick="setScrollPercentage(48.5)" id="linkSkills" class="link">
                            Projects
                        </button>
                        <button onclick="setScrollPercentage(73.5)" id="linkAbout" class="link">
                            About
                        </button>
                        <button onclick="setScrollPercentage(99.5)" id="linkContact" class="link">
                            Contact
                        </button>
                    </div>
                </nav>
                <hr>
            </div>  

            <div id="pageContainer" class="vContainer">
                
                <div id="homePage" class="webPage">
                    <p id="scrollIndication">â–¼</p>
                </div>

                <div id="skillsPage" class="webPage">
                </div>

                <div id="projectPage" class="webPage"> 
                    <div id="projectTitle">Projects</div>
                    <div class="slideBox">
                        <div class="slideItem">
                            <div class="wholeSlideProject">
                                <div class="topSlideProject">
                                    <h1 class="projectSlideTitle">kCalculator</h1>
                                    <p class="projectSlideDescription">kCalculator is a personal tool to help the users with their health.
                                        On the website, you can find out your daily nutrient goal and monitor the amounts of those you have entered.</p>
                                </div>

                                <div class="bottomSlideProject">
                                    <div class="imageSlideProject">
                                        video
                                    </div>

                                    <div class="skillsSlideProject">
                                        Skills:<br>
                                        fsea<br>
                                        fgsg<br>
                                        fs<br>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <div class="slideItem">
                            <h1>Slide 2</h1>
                            Lorem ipsum dolor sit amet consectetur adipisicing elit. Eaque possimus pariatur cumque molestias soluta beatae, delectus animi a ducimus dolores quo, hic praesentium laudantium consequuntur? Dolorum pariatur quasi ipsam aliquam!
                        </div>

                        <div class="slideItem">
                            <h1>Slide 3</h1>
                            Lorem ipsum dolor sit amet consectetur adipisicing elit. Eaque possimus pariatur cumque molestias soluta beatae, delectus animi a ducimus dolores quo, hic praesentium laudantium consequuntur? Dolorum pariatur quasi ipsam aliquam!
                        </div>

                        <div class="slideItem">
                            <h1>Slide 4</h1>
                            Lorem ipsum dolor sit amet consectetur adipisicing elit. Eaque possimus pariatur cumque molestias soluta beatae, delectus animi a ducimus dolores quo, hic praesentium laudantium consequuntur? Dolorum pariatur quasi ipsam aliquam!
                        </div>
                        

                        <button id="nextButton">></button>
                        <button id="prevButton"><</button>
                    </div>
                </div>

                <div id="aboutPage" class="webPage">
                </div>

                <div id="contactPage" class="webPage">
                </div>
                
            </div>
        </div>
        
        <script>
            // Project Page
            let items = document.querySelectorAll('.slideBox .slideItem');
            let nextButton = document.getElementById('nextButton');
            let prevButton = document.getElementById('prevButton');

            let active = 0;

            function loadShow(){
                let stt = 0;

                items[active].style.transform = `none`;
                items[active].style.zIndex = 1;
                items[active].style.filter = 'none';
                items[active].style.opacity = 1;

                for(var i = active + 1; i < items.length; i++){
                    stt++;
                    items[i].style.transform = `translateX(${120 * stt}px) scale(${1 - 0.3*stt}) perspective(50px) rotateY(-1deg)`;
                    items[i].style.zIndex = -stt;
                    items[i].style.filter = 'blur(3px)';
                    items[i].style.opacity = stt > 2 ? 0 : 0.6;
                }
                stt = 0;
                for(var i = active - 1; i >= 0; i--){
                    stt++;
                    items[i].style.transform = `translateX(${-120 * stt}px) scale(${1 - 0.3*stt}) perspective(50px) rotateY(1deg)`;
                    items[i].style.zIndex = -stt;
                    items[i].style.filter = 'blur(3px)';
                    items[i].style.opacity = stt > 2 ? 0 : 0.6;
                }
            }
 
            nextButton.onclick = function(){
                active = active + 1 < items.length ? active + 1 : active;
                loadShow();
            }

            prevButton.onclick = function(){
                active = active - 1 >= 0 ? active - 1 : active;
                loadShow();
            }

            // Home Page
            setTimeout(helloMessage, 700);

            function helloMessage(){
                let homePage = document.getElementById('homePage');
                homePage.innerHTML += "<p id='helloMessage'>Hello, I'm Nielsen</p>";
            }

            // Navigation
            function linkUnderline(){
                let totalHeight = document.documentElement.scrollHeight - window.innerHeight;

                let linkHome = document.getElementById('topTitle');
                let linkProjects = document.getElementById('linkProjects');
                let linkSkills = document.getElementById('linkSkills');
                let linkAbout = document.getElementById('linkAbout');
                let linkContact = document.getElementById('linkContact');

                let scrollPosition = window.scrollY;

                let homeMax = totalHeight * (15/100);
                let projectsMax = totalHeight * (40/100);
                let skillsMax = totalHeight * (65/100);
                let contactMax = totalHeight * (90/100);

                if (scrollPosition <= homeMax){
                    linkHome.style.textDecoration = 'underline';
                }else{
                    linkHome.style.textDecoration = 'none';
                }

                if (scrollPosition <= projectsMax && scrollPosition >= homeMax){
                    linkProjects.style.textDecoration = 'underline';
                }else{
                    linkProjects.style.textDecoration = 'none';
                }

                if (scrollPosition <= skillsMax && scrollPosition >= projectsMax){
                    linkSkills.style.textDecoration = 'underline';
                }else{
                    linkSkills.style.textDecoration = 'none';
                }

                if (scrollPosition <= contactMax && scrollPosition >= skillsMax){
                    linkAbout.style.textDecoration = 'underline';
                }else{
                    linkAbout.style.textDecoration = 'none';
                }

                if (scrollPosition >= contactMax){
                    linkContact.style.textDecoration = 'underline';
                }else{
                    linkContact.style.textDecoration = 'none';
                }
            }
 
            function setScrollPercentage(percentage) {
                const totalHeight = document.getElementById('wholePage').scrollHeight - window.innerHeight;
                const scrollPosition = (percentage / 100) * totalHeight;
                window.scrollTo({
                    top: scrollPosition,
                    behavior: 'smooth'
            }); 

            setTimeout(linkUnderline, 500);
            }

            // Call functions
            linkUnderline();
            loadShow();

            window.addEventListener('scroll', linkUnderline);

        </script>
    </body>
</html>